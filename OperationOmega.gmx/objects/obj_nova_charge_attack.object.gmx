<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_nova</spriteName>
  <solid>0</solid>
  <visible>0</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Initialize variables
target_x = 0;                   //x value to aim the attack at
target_y = 0;                   //y value to aim the attack at
mid = 0;                        //mid of this ship to shoot from
give_direction = 0;
give_speed = 0;
enable_speed = false;
disable_speed = false;
target_angle[0] = irandom(90);
target_angle[1] = target_angle[0]+90;
target_angle[2] = target_angle[0]+180;
target_angle[3] = target_angle[0]+270;
//Set time until bullet object update
alarm[0] = 1;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>disable_speed = true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var next_bullet, hold_mid, bullet_direction, direction_x, direction_y, hold_direction, hold_life;
next_bullet = 1;
hold_mid = mid;
direction_x = target_x;
direction_y = target_y;
team_id = global.team[mid]-1;

with(obj_bulletcontrol)
{
    //Update all bullets
    for(i = 1; i &lt;= bulletmax; i += 1)
    {
        //Skip this loop if the index is free
        if(bulletfree[i] = true) continue;
        if(bulletname[i] = "Nova ")
            if(bulletmid[i] = hold_mid)
                if(bullethspeed[i] = 0)
                    if(bulletvspeed[i] = 0)
                    {
                        other.hold_bullet[next_bullet] = i;
                        hold_direction = point_direction(bulletx[i], bullety[i], direction_x, direction_y);
                        other.hold_hspeed[next_bullet] = lengthdir_x(0.2, hold_direction);
                        other.hold_vspeed[next_bullet] = lengthdir_y(0.2, hold_direction);
                        
                        part_type_direction(obj_partsystem.nova_link[other.team_id], hold_direction, hold_direction, 0, 0);
                        hold_life = point_distance(bulletx[i], bullety[i], direction_x, direction_y)/25;
                        part_type_life(obj_partsystem.nova_link[other.team_id], hold_life, hold_life);
                        part_particles_create(obj_partsystem.system, bulletx[i], bullety[i], obj_partsystem.nova_link[other.team_id], 1);
                        nova_count[hold_mid] -= 1;
                        next_bullet++;
                    }
    }
}

total_bullets = next_bullet;
alarm[1] = 65;
alarm[2] = 55;
enable_speed = true;


if(total_bullets = 1)
    instance_destroy();

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if(enable_speed = true)
{
    part_particles_create(obj_partsystem.system, target_x, target_y, obj_partsystem.nova_target[team_id], 9);
    var bullet_count = total_bullets;
    if(disable_speed = false)
        with(obj_bulletcontrol)
        {
            //Update all bullets
            for(i = 1; i &lt; bullet_count; i += 1)
            {
                bullethspeed[other.hold_bullet[i]] += other.hold_hspeed[i];
                bulletvspeed[other.hold_bullet[i]] += other.hold_vspeed[i]
            }
        }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
